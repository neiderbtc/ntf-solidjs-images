import{t as e,d as t,a as i,s,i as l,c as n,b as r,e as a,N as o,f as c,F as d,r as m}from"./vendor.41461f1d.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const i of e)if("childList"===i.type)for(const e of i.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const p=e('<div class="d-grid"><button></button></div>'),u=({onClick:e,text:t,primary:n,secondary:r,danger:a,success:o,type:c})=>(()=>{const d=p.cloneNode(!0),m=d.firstChild;return i(m,"click",e,!0),m.className=`btn btn-block  ${n?"btn-primary":""}  ${r?"btn-secondary":""} \n            ${a?"btn-danger":""} ${o?"btn-success":""}`,s(m,"type",c||"button"),l(m,t),d})();t(["click"]);const f="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJkaWQ6ZXRocjoweDUzODc0NzM3ZDhCRjg0ZTEzMTJkYzE2M2E4MGM5OTlhOTAxNGM3NDAiLCJpc3MiOiJuZnQtc3RvcmFnZSIsImlhdCI6MTYzMjY2MDkyNDM4NSwibmFtZSI6ImV4YW1wbGUifQ._gc3BllHE3wIggwk59z3D_t-igVp5BokNR9EA-wwR6U";var g="/ntf-solidjs-images/assets/loading.35728f4d.gif";const h=e('<div class="col-lg-3"><div class="card m-2"><div class="h-50"><img class="card-img-top image-card rounded" alt=""></div><div class="card-body"><h5 class="card-title"> </h5><h4> eth</h4><p class="card-text"> </p></div></div></div>'),b=({item:e,destroy:t})=>{const[i,o]=n({});return(async e=>{const t=await fetch(`https://${e}.ipfs.dweb.link/metadata.json`);return await t.json()})(e.cid).then((e=>o(e))),console.log(g),(()=>{const n=h.cloneNode(!0),o=n.firstChild.firstChild,c=o.firstChild,d=o.nextSibling,m=d.firstChild;m.firstChild;const p=m.nextSibling,f=p.firstChild,b=p.nextSibling;return b.firstChild,l(m,(()=>i().name)),l(p,(()=>i().price),f),l(b,(()=>i().description)),l(d,r(u,{danger:!0,onClick:()=>t(null==e?void 0:e.cid),text:"Delete"}),null),a((()=>s(c,"src",i().image?i().image.replace("ipfs://","https://ipfs.io/ipfs/"):g))),n})()},v=e('<div class="form-group my-2"><label for=""></label><input class="form-control" step="0.01"><small id="helpId" class="text-muted"></small></div>'),y=({name:e,placeholder:t,error:i,label:n,type:r})=>(()=>{const a=v.cloneNode(!0),o=a.firstChild,c=o.nextSibling,d=c.nextSibling;return l(o,n),s(c,"type",r||"text"),s(c,"name",e),s(c,"placeholder",t),l(d,i),a})(),C=e('<div class="form-group my-2"><label for=""></label><textarea class="col-2 form-control"></textarea><small id="helpId" class="text-muted"></small></div>'),w=({name:e,placeholder:t,error:i,label:n})=>(()=>{const r=C.cloneNode(!0),a=r.firstChild,o=a.nextSibling,c=o.nextSibling;return l(a,n),s(o,"name",e),s(o,"placeholder",t),l(c,i),r})(),x=e('<div class="container"><div class="row"><div class="col-lg-4"></div><div class="col-lg-4"><form><input type="file" class="d-none" id="input_image" name="image"><label for="input_image" class="text-center cursor-pointer"><img class="w-50 rounded" id="show_image" src="https://cdn.pixabay.com/photo/2016/01/03/00/43/upload-1118929_960_720.png"></label></form></div></div><div class="row"><div class="col-lg-12 row"></div></div></div>');m((function(){const[e,t]=n(0),i=new o({token:f}),[s,a]=n([]);c((()=>(async()=>{const e=await fetch("https://api.nft.storage/?limit=12",{headers:{Authorization:`Bearer ${f}`}});return await e.json()})().then((e=>{e.ok&&a(e.value)}))));const m=e=>{const t=e.target.files[0],i=URL.createObjectURL(t);document.getElementById("show_image").src=i},p=async e=>{e.preventDefault();const t=e.target,s=t.image,l=t.name.value,n=t.description.value,r=t.price.value;(await i.store({name:l,price:r,description:n,image:new d(s.files,s.files[0].name,{type:"image/jpg"})})).url&&alert("create success")},g=async e=>{await i.delete(e)};return(()=>{const i=x.cloneNode(!0),n=i.firstChild,a=n.firstChild.nextSibling.firstChild,o=a.firstChild;o.nextSibling;const c=n.nextSibling.firstChild;return l(i,e,n),a.addEventListener("submit",p),o.addEventListener("change",m),l(a,r(y,{name:"name",label:"Name Image",placeholder:"Image bitcoin"}),null),l(a,r(y,{name:"price",type:"number",label:"Price",placeholder:"0.5"}),null),l(a,r(w,{name:"description",label:"Description",placeholder:"my description"}),null),l(a,r(u,{success:!0,type:"submit",onClick:()=>t(e()+1),text:"Create"}),null),l(c,(()=>s().map((e=>null!==e?r(b,{item:e,destroy:g}):[])))),i})()}),document.getElementById("root"));
